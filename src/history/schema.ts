export const create_schema = `CREATE TABLE c (
    i INTEGER PRIMARY KEY AUTOINCREMENT,
    a CHAR(36) NOT NULL,
    s CHAR(36) NOT NULL,
    t STRING DEFAULT NULL,
    c CHAR(36) NOT NULL
);

CREATE UNIQUE INDEX cu ON c (a, s, t, c);

CREATE TABLE u (
    i INTEGER PRIMARY KEY AUTOINCREMENT,
    t INTEGER NOT NULL,
    u STRING NOT NULL,
    n STRING NOT NULL
);

CREATE UNIQUE INDEX uu ON u (t, u);

CREATE TABLE r (
    i INTEGER PRIMARY KEY AUTOINCREMENT,
    c INTEGER NOT NULL,
    v TEXT,
    u INTEGER,
    d TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (c) REFERENCES c (i) ON UPDATE RESTRICT ON DELETE RESTRICT,
    FOREIGN KEY (u) REFERENCES u (i) ON UPDATE RESTRICT ON DELETE RESTRICT
);`;
